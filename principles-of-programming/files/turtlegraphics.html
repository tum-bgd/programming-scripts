
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Turtle Graphics Example &#8212; Principles of Programming</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Principles of Programming</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../principles-of-programming_intro.html">
                    Principles of Programming (2022)
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Basic Knowledge
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="dos.html">
   The Disk Operating System (DOS)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="windows.html">
   Microsoft Windows
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="unix.html">
   Unix, Linux, and POSIX
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="imperative_programming.html">
   Imperative Programming
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Python
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="python_basics.html">
   Python basics
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Geospatial Images
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="libraries_gdal_intro.html">
   Geospatial Raster Images - The GDAL Library
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="libraries_gdal_germany.html">
   GDAL Primer
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Libraries and Stories
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="libraries_happly.html">
   Reading and Writing PLY files (point cloud example)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="libraries_happly_boostgeometry.html">
   happly and boost geometry - Load Point Clouds in C++11
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorial Assignments
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="unit01_tasks.html">
   Tutorial No. 1 - Check your knowledge
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tasks_01_niki.html">
   Task Sheet 1: Niki the robot
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/tum-bgd/programming-scripts"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/tum-bgd/programming-scripts/issues/new?title=Issue%20on%20page%20%2Ffiles/turtlegraphics.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/tum-bgd/programming-scripts/edit/main/files/turtlegraphics.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/files/turtlegraphics.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#implementation-in-c">
   Implementation in C
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizing-the-turtle-graphics">
   Visualizing the Turtle Graphics
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-makefile">
   The Makefile
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Turtle Graphics Example</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#implementation-in-c">
   Implementation in C
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizing-the-turtle-graphics">
   Visualizing the Turtle Graphics
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-makefile">
   The Makefile
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="turtle-graphics-example">
<h1>Turtle Graphics Example<a class="headerlink" href="#turtle-graphics-example" title="Permalink to this headline">#</a></h1>
<p>Turtle graphics is a very basic graphics mode that has been used a lot in computer theory and education.
It is a very simple model in which computer graphics are generated by a small turtle (also known as the cursor)
by drawing a long and single connected line.</p>
<p>This can be used to learn imperative programming and recursive programming in a more visual way.</p>
<p>Some background is given on <a class="reference external" href="https://en.wikipedia.org/wiki/Turtle_graphics">Wikipedia</a></p>
<section id="implementation-in-c">
<h2>Implementation in C<a class="headerlink" href="#implementation-in-c" title="Permalink to this headline">#</a></h2>
<p>As C and C++ do not contain graphics functionality in the core of the language (though high performance graphics
is not far away through <a class="reference external" href="https://www.khronos.org/">OpenGL and Vulkan</a> and high quality graphics is provided by <a class="reference external" href="https://www.cairographics.org/">cairo</a>, we again rely on gnuplot to help us with visualizing scientific data.</p>
<p>The gnuplot script we are providing just requires a text file of coordinates. That is a file in which every
line is considered a point consisting of two floating point numbers separated by a space.</p>
<p>The special aspect here is that we are not going to use printf (though we could by using the piping mechanism like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">turtle</span> <span class="o">&gt;</span> <span class="n">turtle</span><span class="o">-</span><span class="n">graphics</span><span class="o">.</span><span class="n">dat</span>
</pre></div>
</div>
<p>but we open a file. Therefore, we rely on <code class="docutils literal notranslate"><span class="pre">fopen</span></code>. fopen returns a pointer (you don’t need to know what this is for now), but it returns the special value NULL if something is wrong. If not, there is a printf-like function <code class="docutils literal notranslate"><span class="pre">fprintf</span></code>
which we can use to print into this file. The first argument is said file pointer.</p>
<p>The file turtle.cpp implements everything. There are three global variables for the pose of the turtle: <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code>, and <code class="docutils literal notranslate"><span class="pre">angle</span></code>. These are updated by two functions: move() which moves by a distance (if not given a default distance of one is taken). This uses cosine and sine functions and does convert angle to radians due to the library functions <code class="docutils literal notranslate"><span class="pre">cos</span></code>and <code class="docutils literal notranslate"><span class="pre">sin</span></code> being in terms of radians while many people think in degrees.</p>
<p>This conversion is simple: you divide radians by <span class="math notranslate nohighlight">\(2\pi\)</span> as this brings you a fraction of the circle (like a percentage where 1 means once around the circle, 0.5 means halfway around). And we multiply this with 360. In the implementation, we cancel out a factor of two and divide by <span class="math notranslate nohighlight">\(\pi\)</span> in order to multiply by 180.</p>
<p>Change the program to generate awesome turtle graphics, we will post a few tasks on the web page.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#include&lt;stdio.h&gt;
#include&lt;math.h&gt;


double x;
double y;
double angle; /// in degrees

FILE *f;

void move(double len=1)
{
    x = x + len * cos(angle / 180.0 * M_PI);
    y += len * sin(angle / 180.0 * M_PI);
    if (f != NULL)
       fprintf(f, &quot;%f %f\n&quot;,x,y);
}

void turn(double by)
{
    angle += by;
    // this is completely unneeded, but might be nice for debugging and is a common pattern
    // it is only efficient when you are doing moderate turns. For massive turns (e.g., angle=10e9) this
    // will be long loops.
    while(angle &gt; 360.0) angle -= 360;
    while (angle &lt; 0) angle += 360; 
}


int main()
{
   f = fopen(&quot;plot.dat&quot;,&quot;w&quot;); // this will overwrite
   if (f == 0) {
      perror(&quot;File Problem: &quot;);
      exit(-1);
   }

   // init the turtle
   x = y=angle=0;
   // do some turtle graphics (this is a star, is it?)
   for(int i=0; i &lt; 100; i++){
      move(100);
      turn(140 );
   }
      fclose(f);
   
   return 0;

}
</pre></div>
</div>
</section>
<section id="visualizing-the-turtle-graphics">
<h2>Visualizing the Turtle Graphics<a class="headerlink" href="#visualizing-the-turtle-graphics" title="Permalink to this headline">#</a></h2>
<p>To get you started, we provide a script that generates a PNG file (well, this is handier for the lecture as
we typically work remotely on a Linux machine).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">term</span> <span class="n">png</span>
<span class="nb">set</span> <span class="n">output</span> <span class="s2">&quot;/var/www/html/gnuplot.png&quot;</span>

<span class="nb">set</span> <span class="n">style</span> <span class="n">line</span> <span class="mi">1</span> \
    <span class="n">linecolor</span> <span class="n">rgb</span> <span class="s1">&#39;#0060ad&#39;</span> \
    <span class="n">linetype</span> <span class="mi">1</span> <span class="n">linewidth</span> <span class="mi">2</span> \
    <span class="n">pointtype</span> <span class="mi">7</span> <span class="n">pointsize</span> <span class="mi">0</span>

<span class="n">plot</span> <span class="s1">&#39;plot.dat&#39;</span> <span class="k">with</span> <span class="n">linespoints</span> <span class="n">linestyle</span> <span class="mi">1</span>
</pre></div>
</div>
<p>By removing the first two lines (activating PNG and giving a filename), gnuplot should pop up with a window.</p>
<p>The script is easy: we just give some visualization parameters and draw all line segments and points from <code class="docutils literal notranslate"><span class="pre">plot.dat</span></code>.
As pointsize is zero, you don’t see points, but sometimes you might want to activate it, for example, set it to 1.5.</p>
<p>If you did it the right way, you have a nice star from the reference implementation looking like this:</p>
<p><img alt="" src="../_images/turtle.png" /></p>
</section>
<section id="the-makefile">
<h2>The Makefile<a class="headerlink" href="#the-makefile" title="Permalink to this headline">#</a></h2>
<p>It is very common that while developing a system, a few things have to be called in the right order.
GNU Make is a very common tool that allows you to automate such things.</p>
<p>In its simplest form, it is given as a text file called Makefile which lists at least one target.
A target is just a nickname for a set of tasks or a name of a file if a file is to be generated as the outcome
of the target.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">all</span><span class="p">:</span>
	<span class="n">g</span><span class="o">++</span> <span class="o">-</span><span class="n">o</span> <span class="n">turtle</span> <span class="n">turtle</span><span class="o">.</span><span class="n">cpp</span>
	<span class="o">./</span><span class="n">turtle</span>
	<span class="n">gnuplot</span> <span class="n">graphics</span><span class="o">.</span><span class="n">plt</span>
</pre></div>
</div>
<p>In our minimal example above, the nickname is all. If you invoke make, it will look for the main target
(either one given on the command line or the first target in the file) and will try to build it. Therefore,
it first builds all dependencies (here are none specified, we will refine this Makefile later). When the dependecies
are refreshed, it will run all lines. Each line needs to start with a TAB character (no spaces!) to group
them together. And make is really picky, if the first line fails, it will abort the target.</p>
<p>In other words:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span>
</pre></div>
</div>
<p>will try to make the target all by compiling turtle.cpp into turtle, then running turtle, then running gnuplot.
If any of those fails, an error is generated and subsequent aspects are not performed anymore.</p>
<p>You will see more powerful Makefiles through the time…</p>
<p><a class="reference download internal" download="" href="../_downloads/b5e9cbc0300470c5d9aa5b943a4747d4/turtle-example.tgz"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Package</span></code></a></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./files"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Martin Werner<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>